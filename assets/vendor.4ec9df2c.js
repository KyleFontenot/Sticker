const Ge=(e,t)=>e===t,_e=Symbol("solid-proxy"),q={equals:Ge};let ce=pe;const $={},k=1,Q=2,ae={owned:null,cleanups:null,context:null,owner:null},[qe,Vt]=T(!1);var w=null;let j=null,b=null,B=null,C=null,R=null,z=0;function I(e,t){t&&(w=t);const n=b,s=w,r=e.length===0?ae:{owned:null,cleanups:null,context:null,owner:s};w=r,b=null;let o;try{ee(()=>o=e(()=>ne(r)),!0)}finally{b=n,w=s}return o}function T(e,t){t=t?Object.assign({},q,t):q;const n={value:e,observers:null,observerSlots:null,pending:$,comparator:t.equals||void 0};return[ge.bind(n),s=>(typeof s=="function"&&(s=s(n.pending!==$?n.pending:n.value)),Z(n,s))]}function Y(e,t,n){D(U(e,t,!0,k))}function N(e,t,n){D(U(e,t,!1,k))}function Ke(e,t,n){ce=Ze;const s=U(e,t,!1,k);s.user=!0,R&&R.push(s)}function v(e,t,n){n=n?Object.assign({},q,n):q;const s=U(e,t,!0,0);return s.pending=$,s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,D(s),ge.bind(s)}function Ue(e,t,n){arguments.length===2?typeof t=="object"&&(n=t,t=e,e=!0):arguments.length===1&&(t=e,e=!0);const s=new Set,[r,o]=T((n||{}).initialValue),[i,l]=T(void 0,{equals:!1}),[c,a]=T(!1),[u,d]=T();let f,p=null,g=null,A=typeof e=="function";function P(h,y,L){return p===h&&(d(f=L),p=null,E(y)),y}function E(h){K(()=>{o(()=>h),a(!1);for(const y of s.keys())y.decrement();s.clear()})}function S(){const h=ze,y=r();if(f)throw f;return b&&!b.user&&h&&Y(()=>{i(),p&&(h.resolved||s.has(h)||(h.increment(),s.add(h)))}),y}function m(){d(f=void 0);const h=A?e():e;if(h==null||h===!1){P(p,x(r));return}const y=g||x(()=>t(h,r));if(g=null,typeof y!="object"||!("then"in y)){P(p,y);return}p=y,K(()=>{a(!0),l()}),y.then(L=>P(y,L),L=>P(y,L,L))}return Object.defineProperties(S,{loading:{get(){return c()}},error:{get(){return u()}}}),A?Y(m):m(),[S,{refetch:m,mutate:o}]}function K(e){if(B)return e();let t;const n=B=[];try{t=e()}finally{B=null}return ee(()=>{for(let s=0;s<n.length;s+=1){const r=n[s];if(r.pending!==$){const o=r.pending;r.pending=$,Z(r,o)}}},!1),t}function x(e){let t,n=b;return b=null,t=e(),b=n,t}function fe(e,t,n){const s=Array.isArray(e);let r,o=n&&n.defer;return i=>{let l;if(s){l=[];for(let a=0;a<e.length;a++)l.push(e[a]())}else l=e();if(o){o=!1;return}const c=x(()=>t(l,r,i));return r=l,c}}function Ht(e){Ke(()=>x(e))}function he(e){return w===null||(w.cleanups===null?w.cleanups=[e]:w.cleanups.push(e)),e}function Ve(){return w}function He(e,t){const n=w;w=e;try{return t()}finally{w=n}}function Xe(e,t){queueMicrotask(()=>{K(e),t&&t()})}function We(){return[qe,Xe]}function de(e){const t=Symbol("context");return{id:t,Provider:et(t),defaultValue:e}}function J(e){return we(w,e.id)||e.defaultValue}function Qe(e){const t=v(e);return v(()=>se(t()))}let ze;function ge(){const e=j;if(this.sources&&(this.state||e)){const t=C;C=null,this.state===k||e?D(this):te(this),C=t}if(b){const t=this.observers?this.observers.length:0;b.sources?(b.sources.push(this),b.sourceSlots.push(t)):(b.sources=[this],b.sourceSlots=[t]),this.observers?(this.observers.push(b),this.observerSlots.push(b.sources.length-1)):(this.observers=[b],this.observerSlots=[b.sources.length-1])}return this.value}function Z(e,t,n){if(e.comparator&&e.comparator(e.value,t))return t;if(B)return e.pending===$&&B.push(e),e.pending=t,t;let s=!1;return e.value=t,e.observers&&e.observers.length&&ee(()=>{for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r];s&&j.disposed.has(o),o.pure?C.push(o):R.push(o),o.observers&&(s&&!o.tState||!s&&!o.state)&&me(o),s||(o.state=k)}if(C.length>1e6)throw C=[],new Error},!1),t}function D(e){if(!e.fn)return;ne(e);const t=w,n=b,s=z;b=w=e,Ye(e,e.value,s),b=n,w=t}function Ye(e,t,n){let s;try{s=e.fn(t)}catch(r){ye(r)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?Z(e,s):e.value=s,e.updatedAt=n)}function U(e,t,n,s=k,r){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:w,context:null,pure:n};return w===null||w!==ae&&(w.owned?w.owned.push(o):w.owned=[o]),o}function F(e){const t=j;if(e.state!==k)return e.state=0;if(e.suspense&&x(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<z);)(e.state||t)&&n.push(e);for(let s=n.length-1;s>=0;s--)if(e=n[s],e.state===k||t)D(e);else if(e.state===Q||t){const r=C;C=null,te(e),C=r}}function ee(e,t){if(C)return e();let n=!1;t||(C=[]),R?n=!0:R=[],z++;try{e()}catch(s){ye(s)}finally{Je(n)}}function Je(e){C&&(pe(C),C=null),!e&&(R.length?K(()=>{ce(R),R=null}):R=null)}function pe(e){for(let t=0;t<e.length;t++)F(e[t])}function Ze(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:F(r)}const s=e.length;for(t=0;t<n;t++)F(e[t]);for(t=s;t<e.length;t++)F(e[t])}function te(e){e.state=0;const t=j;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];s.sources&&(s.state===k||t?F(s):(s.state===Q||t)&&te(s))}}function me(e){const t=j;for(let n=0;n<e.observers.length;n+=1){const s=e.observers[n];(!s.state||t)&&(s.state=Q,s.pure?C.push(s):R.push(s),s.observers&&me(s))}}function ne(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),i=n.observerSlots.pop();s<r.length&&(o.sourceSlots[i]=s,r[s]=o,n.observerSlots[s]=i)}}if(e.owned){for(t=0;t<e.owned.length;t++)ne(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function ye(e){throw e}function we(e,t){return e&&(e.context&&e.context[t]||e.owner&&we(e.owner,t))}function se(e){if(typeof e=="function"&&!e.length)return se(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=se(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function et(e){return function(n){let s;return Y(()=>s=x(()=>(w.context={[e]:n.value},Qe(()=>n.children)))),s}}const tt=Symbol("fallback");function be(e){for(let t=0;t<e.length;t++)e[t]()}function nt(e,t,n={}){let s=[],r=[],o=[],i=0,l=t.length>1?[]:null;return he(()=>be(o)),()=>{let c=e()||[],a,u;return x(()=>{let f=c.length,p,g,A,P,E,S,m,h,y;if(f===0)i!==0&&(be(o),o=[],s=[],r=[],i=0,l&&(l=[])),n.fallback&&(s=[tt],r[0]=I(L=>(o[0]=L,n.fallback())),i=1);else if(i===0){for(r=new Array(f),u=0;u<f;u++)s[u]=c[u],r[u]=I(d);i=f}else{for(A=new Array(f),P=new Array(f),l&&(E=new Array(f)),S=0,m=Math.min(i,f);S<m&&s[S]===c[S];S++);for(m=i-1,h=f-1;m>=S&&h>=S&&s[m]===c[h];m--,h--)A[h]=r[m],P[h]=o[m],l&&(E[h]=l[m]);for(p=new Map,g=new Array(h+1),u=h;u>=S;u--)y=c[u],a=p.get(y),g[u]=a===void 0?-1:a,p.set(y,u);for(a=S;a<=m;a++)y=s[a],u=p.get(y),u!==void 0&&u!==-1?(A[u]=r[a],P[u]=o[a],l&&(E[u]=l[a]),u=g[u],p.set(y,u)):o[a]();for(u=S;u<f;u++)u in A?(r[u]=A[u],o[u]=P[u],l&&(l[u]=E[u],l[u](u))):r[u]=I(d);r=r.slice(0,i=f),s=c.slice(0)}return r});function d(f){if(o[u]=f,l){const[p,g]=T(u);return l[u]=g,t(c[u],p)}return t(c[u])}}}function O(e,t){return x(()=>e(t))}function V(){return!0}const ve={get(e,t,n){return t===_e?n:e.get(t)},has(e,t){return e.has(t)},set:V,deleteProperty:V,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:V,deleteProperty:V}},ownKeys(e){return e.keys()}};function re(e){return typeof e=="function"?e():e}function st(...e){return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const s=re(e[n])[t];if(s!==void 0)return s}},has(t){for(let n=e.length-1;n>=0;n--)if(t in re(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(re(e[n])));return[...new Set(t)]}},ve)}function Se(e,...t){const n=new Set(t.flat()),s=Object.getOwnPropertyDescriptors(e),r=t.map(o=>{const i={};for(let l=0;l<o.length;l++){const c=o[l];Object.defineProperty(i,c,s[c]?s[c]:{get(){return e[c]}})}return i});return r.push(new Proxy({get(o){return n.has(o)?void 0:e[o]},has(o){return n.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!n.has(o))}},ve)),r}function Xt(e){let t;const n=s=>{if(t){const o=t();if(o)return o(s)}else{const[o]=Ue(()=>e().then(i=>i.default));t=o}let r;return v(()=>(r=t())&&x(()=>r(s)))};return n.preload=()=>t||e().then(s=>t=()=>s.default),n}function Wt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return v(nt(()=>e.each,e.children,t||void 0))}function Ae(e){let t=!1;const n=v(()=>e.when,void 0,{equals:(s,r)=>t?s===r:!s==!r});return v(()=>{const s=n();if(s){const r=e.children;return(t=typeof r=="function"&&r.length>0)?x(()=>r(s)):r}return e.fallback})}const rt=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],ot=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...rt]),it=new Set(["innerHTML","textContent","innerText","children"]),lt={className:"class",htmlFor:"for"},Ce={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},ut=new Set(["beforeinput","click","dblclick","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ct=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),at={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Qt(e,t){return v(e,void 0,t?void 0:{equals:t})}function Pe(e,t,n){let s=n.length,r=t.length,o=s,i=0,l=0,c=t[r-1].nextSibling,a=null;for(;i<r||l<o;){if(t[i]===n[l]){i++,l++;continue}for(;t[r-1]===n[o-1];)r--,o--;if(r===i){const u=o<s?l?n[l-1].nextSibling:n[o-l]:c;for(;l<o;)e.insertBefore(n[l++],u)}else if(o===l)for(;i<r;)(!a||!a.has(t[i]))&&e.removeChild(t[i]),i++;else if(t[i]===n[o-1]&&n[l]===t[r-1]){const u=t[--r].nextSibling;e.insertBefore(n[l++],t[i++].nextSibling),e.insertBefore(n[--o],u),t[r]=n[o]}else{if(!a){a=new Map;let d=l;for(;d<o;)a.set(n[d],d++)}const u=a.get(t[i]);if(u!=null)if(l<u&&u<o){let d=i,f=1,p;for(;++d<r&&d<o&&!((p=a.get(t[d]))==null||p!==u+f);)f++;if(f>u-l){const g=t[i];for(;l<u;)e.insertBefore(n[l++],g)}else e.replaceChild(n[l++],t[i++])}else i++;else e.removeChild(t[i++])}}}const xe="_$DX_DELEGATE";function zt(e,t,n){let s;return I(r=>{s=r,ke(t,e(),t.firstChild?null:void 0,n)}),()=>{s(),t.textContent=""}}function ft(e,t,n){const s=document.createElement("template");s.innerHTML=e;let r=s.content.firstChild;return n&&(r=r.firstChild),r}function Ee(e,t=window.document){const n=t[xe]||(t[xe]=new Set);for(let s=0,r=e.length;s<r;s++){const o=e[s];n.has(o)||(n.add(o),t.addEventListener(o,wt))}}function Le(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function ht(e,t,n,s){s==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,s)}function dt(e,t,n,s){s?Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n:Array.isArray(n)?e.addEventListener(t,r=>n[0](n[1],r)):e.addEventListener(t,n)}function gt(e,t,n={}){const s=Object.keys(t||{}),r=Object.keys(n);let o,i;for(o=0,i=r.length;o<i;o++){const l=r[o];!l||l==="undefined"||t[l]||(Te(e,l,!1),delete n[l])}for(o=0,i=s.length;o<i;o++){const l=s[o],c=!!t[l];!l||l==="undefined"||n[l]===c||!c||(Te(e,l,!0),n[l]=c)}return n}function pt(e,t,n={}){const s=e.style;if(t==null||typeof t=="string")return s.cssText=t;typeof n=="string"&&(n={});let r,o;for(o in n)t[o]==null&&s.removeProperty(o),delete n[o];for(o in t)r=t[o],r!==n[o]&&(s.setProperty(o,r),n[o]=r);return n}function Re(e,t,n,s){typeof t=="function"?N(r=>Ne(e,t(),r,n,s)):Ne(e,t,void 0,n,s)}function ke(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return M(e,t,s,n);N(r=>M(e,t(),r,n),s)}function mt(e,t,n,s,r={}){let o,i,l;for(const c in t){if(c==="children"){s||M(e,t.children);continue}const a=t[c];if(a!==r[c]){if(c==="style")pt(e,a,r[c]);else if(c==="classList")gt(e,a,r[c]);else if(c==="ref")a(e);else if(c.slice(0,3)==="on:")e.addEventListener(c.slice(3),a);else if(c.slice(0,10)==="oncapture:")e.addEventListener(c.slice(10),a,!0);else if(c.slice(0,2)==="on"){const u=c.slice(2).toLowerCase(),d=ut.has(u);dt(e,u,a,d),d&&Ee([u])}else if((l=it.has(c))||!n&&(Ce[c]||(i=ot.has(c)))||(o=e.nodeName.includes("-")))o&&!i&&!l?e[yt(c)]=a:e[Ce[c]||c]=a;else{const u=n&&c.indexOf(":")>-1&&at[c.split(":")[0]];u?ht(e,u,c,a):Le(e,lt[c]||c,a)}r[c]=a}}}function yt(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Te(e,t,n){const s=t.trim().split(/\s+/);for(let r=0,o=s.length;r<o;r++)e.classList.toggle(s[r],n)}function wt(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n}});n!==null;){const s=n[t];if(s&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?s(r,e):s(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function Ne(e,t,n={},s,r){return!r&&"children"in t&&N(()=>n.children=M(e,t.children,n.children)),N(()=>mt(e,t,s,!0,n)),n}function M(e,t,n,s,r){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,i=s!==void 0;if(e=i&&n[0]&&n[0].parentNode||e,o==="string"||o==="number")if(o==="number"&&(t=t.toString()),i){let l=n[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),n=G(e,n,s,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||o==="boolean")n=G(e,n,s);else{if(o==="function")return N(()=>{let l=t();for(;typeof l=="function";)l=l();n=M(e,l,n,s)}),()=>n;if(Array.isArray(t)){const l=[];if(oe(l,t,r))return N(()=>n=M(e,l,n,s,!0)),()=>n;if(l.length===0){if(n=G(e,n,s),i)return n}else Array.isArray(n)?n.length===0?Oe(e,l,s):Pe(e,n,l):n==null||n===""?Oe(e,l):Pe(e,i&&n||[e.firstChild],l);n=l}else if(t instanceof Node){if(Array.isArray(n)){if(i)return n=G(e,n,s,t);G(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function oe(e,t,n){let s=!1;for(let r=0,o=t.length;r<o;r++){let i=t[r],l;if(i instanceof Node)e.push(i);else if(!(i==null||i===!0||i===!1))if(Array.isArray(i))s=oe(e,i)||s;else if((l=typeof i)==="string")e.push(document.createTextNode(i));else if(l==="function")if(n){for(;typeof i=="function";)i=i();s=oe(e,Array.isArray(i)?i:[i])||s}else e.push(i),s=!0;else e.push(document.createTextNode(i.toString()))}return s}function Oe(e,t,n){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function G(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let o=!1;for(let i=t.length-1;i>=0;i--){const l=t[i];if(r!==l){const c=l.parentNode===e;!o&&!i?c?e.replaceChild(r,l):e.insertBefore(r,n):c&&e.removeChild(l)}else o=!0}}else e.insertBefore(r,n);return[r]}const bt="http://www.w3.org/2000/svg";function vt(e,t=!1){return t?document.createElementNS(bt,e):document.createElement(e)}function Yt(e){const[t,n]=Se(e,["component"]);return v(()=>{const s=t.component;switch(typeof s){case"function":return x(()=>s(n));case"string":const r=ct.has(s),o=vt(s,r);return Re(o,n,r),o}})}function St(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function At([e,t],n,s){return[n?()=>n(e()):e,s?r=>t(s(r)):t]}function Ct(e,t,n,s){let r=!1;const o=At(T({value:e()},{equals:(i,l)=>i.value===l.value}),void 0,i=>(!r&&t(i),i));return n&&he(n((i=e())=>{r=!0,o[1]({value:i}),r=!1})),{signal:o,utils:s}}function Pt(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:T({value:""})};return e}function xt(){return Ct(()=>window.location.pathname+window.location.search+window.location.hash,({value:e,replace:t,scroll:n})=>{t?window.history.replaceState(null,"",e):window.history.pushState(null,"",e),n&&window.scrollTo(0,0)},e=>St(window,"popstate",()=>e()))}const Et=/^(?:[a-z0-9]+:)?\/\//i,Lt=/^\/+|\/+$|\s+/;function ie(e){const t=e.replace(Lt,"");return t?"/"+t:""}function H(e,t,n){if(Et.test(t))return;const s=ie(e),r=n&&ie(n);let o="";return!r||t.charAt(0)==="/"?o=s:r.toLowerCase().indexOf(s.toLowerCase())!==0?o=s+r:o=r,o+ie(t)||"/"}function Rt(e,t){if(e==null)throw new Error(t);return e}function kt(e,t){return`${e.replace(/[/*]+$/,"")}/${t.replace(/^\/+/,"")}`}function Tt(e){const t={};return e.searchParams.forEach((n,s)=>{t[s]=n}),t}function Nt(e,t){const[n,s]=e.split("/*",2),r=n.split("/").filter(Boolean),o=r.length;return i=>{const l=i.split("/").filter(Boolean),c=l.length-o;if(c<0||c>0&&s===void 0&&!t)return null;const a={path:o?"":"/",params:{}};for(let u=0;u<o;u++){const d=r[u],f=l[u];if(d[0]===":")a.params[d.slice(1)]=f;else if(d.localeCompare(f,void 0,{sensitivity:"base"})!==0)return null;a.path+=`/${f}`}return s&&(a.params[s]=c?l.slice(-c).join("/"):""),a}}function Ot(e){const[t,n]=e.pattern.split("/*",2),s=t.split("/").filter(Boolean);return s.reduce((r,o)=>r+(o.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function $e(e){const t=new Map,n=Ve();return new Proxy({},{get(s,r){return(t.get(r)||He(n,()=>{const i=v(()=>e()[r]);return t.set(r,i),i}))()}})}const $t=100,Me=de(),X=de(),W=()=>Rt(J(Me),"Make sure your app is wrapped in a <Router />"),le=()=>J(X)||W().base,je=e=>{const t=le();return v(()=>t.resolvePath(e()))},Mt=e=>{const t=W();return v(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},jt=()=>W().navigatorFactory();function Bt(e,t="",n){const{path:s,component:r,data:o,children:i}=e,l=!i||Array.isArray(i)&&!i.length,c=kt(t,s),a=l?c:c.split("/*",1)[0];return{originalPath:s,pattern:a,element:r?()=>O(r,{}):()=>{const{element:u}=e;return u===void 0&&n?O(n,{}):u},preload:e.component?r.preload:e.preload,data:o,matcher:Nt(a,!l)}}function It(e,t=0){return{routes:e,score:Ot(e[e.length-1])*1e4-t,matcher(n){const s=[];for(let r=e.length-1;r>=0;r--){const o=e[r],i=o.matcher(n);if(!i)return null;s.unshift({...i,route:o})}return s}}}function Be(e,t="",n,s=[],r=[]){const o=Array.isArray(e)?e:[e];for(let i=0,l=o.length;i<l;i++){const c=o[i],a=Bt(c,t,n);if(s.push(a),c.children)Be(c.children,a.pattern,n,s,r);else{const u=It([...s],r.length);r.push(u)}s.pop()}return s.length?r:r.sort((i,l)=>l.score-i.score)}function Dt(e,t){for(let n=0,s=e.length;n<s;n++){const r=e[n].matcher(t);if(r)return r}return[]}function Ft(e){const t=new URL("http://sar"),n=v(c=>{const a=e();try{return new URL(a,t)}catch{return console.error(`Invalid path ${a}`),c}},t,{equals:(c,a)=>c.href===a.href}),s=v(()=>n().pathname),r=v(()=>n().search.slice(1)),o=v(()=>n().hash.slice(1)),i=v(()=>null),l=v(()=>"");return{get pathname(){return s()},get search(){return r()},get hash(){return o()},get state(){return i()},get key(){return l()},query:$e(fe(r,()=>Tt(n())))}}function Gt(e,t="",n,s){const{signal:[r,o],utils:i}=Pt(e),l=H("",t),c=void 0;if(l===void 0)throw new Error(`${l} is not a valid base path`);l&&!r().value&&o({value:l,replace:!0,scroll:!1});const[a,u]=We(),[d,f]=T(r().value),p=Ft(d),g=[],A={pattern:l,params:{},path:()=>l,outlet:()=>null,resolvePath(m){return H(l,m)}};n&&(A.data=n({params:{},location:p,navigate:E(A)}));function P(m,h,y){x(()=>{if(typeof h=="number"){console.warn("Relative navigation is not implemented - doing nothing :)");return}const{replace:L,resolve:Ie,scroll:De}={replace:!1,resolve:!0,scroll:!0,...y},_=Ie?m.resolvePath(h):H("",h);if(_===void 0)throw new Error(`Path '${h}' is not a routable path`);if(g.length>=$t)throw new Error("Too many redirects");const ue=d();if(_!==ue){const Fe=g.push({value:ue,replace:L,scroll:De});u(()=>f(_),()=>{g.length===Fe&&S(_)})}})}function E(m){return m=m||J(X)||A,(h,y)=>P(m,h,y)}function S(m){const h=g[0];h&&(m!==h.value&&o({value:m,replace:h.replace,scroll:h.scroll}),g.length=0)}return N(()=>{const m=r().value;m!==x(d)&&u(()=>f(m))}),{base:A,out:c,location:p,isRouting:a,renderPath:i&&i.renderPath||(m=>m),navigatorFactory:E}}function _t(e,t,n,s){const{base:r,location:o,navigatorFactory:i}=e,{pattern:l,element:c,preload:a,data:u}=s().route,d=v(()=>s().path),f=$e(()=>s().params);a&&a();const p={parent:t,pattern:l,get child(){return n()},path:d,params:f,outlet:c,resolvePath(g){return H(r.path(),g,d())}};return u&&(p.data=u({params:f,location:o,navigate:i(p)})),p}const qt=ft("<a></a>"),Jt=e=>{const{source:t,url:n,base:s,data:r,out:o}=e,i=t||xt(),l=Gt(i,s,r);return O(Me.Provider,{value:l,get children(){return e.children}})},Zt=e=>{const t=W(),n=le(),s=je(()=>e.base||""),r=v(()=>Be(e.children,s()||"",Kt)),o=v(()=>Dt(r(),t.location.pathname));t.out&&t.out.matches.push(o().map(({route:a,path:u,params:d})=>({originalPath:a.originalPath,pattern:a.pattern,path:u,params:d})));const i=[];let l;const c=v(fe(o,(a,u,d)=>{let f=u&&a.length===u.length;const p=[];for(let g=0,A=a.length;g<A;g++){const P=u&&u[g],E=a[g];d&&P&&E.route.pattern===P.route.pattern?p[g]=d[g]:(f=!1,i[g]&&i[g](),I(S=>{i[g]=S,p[g]=_t(t,p[g-1]||n,()=>c()[g+1],()=>o()[g])}))}return i.splice(a.length).forEach(g=>g()),d&&f?d:(l=p[0],p)}));return O(Ae,{get when(){return c()&&l},children:a=>O(X.Provider,{value:a,get children(){return a.outlet()}})})},en=e=>e,Kt=()=>{const e=le();return O(Ae,{get when(){return e.child},children:t=>O(X.Provider,{value:t,get children(){return t.outlet()}})})};function Ut(e){const[,t]=Se(e,["children","to","href","onClick"]),n=jt(),s=Mt(()=>e.to),r=o=>{const{onClick:i,to:l,target:c}=e;typeof i=="function"?i(o):i&&i[0](i[1],o),l!==void 0&&!o.defaultPrevented&&o.button===0&&(!c||c==="_self")&&!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)&&(o.preventDefault(),n(l,{resolve:!1,replace:e.replace||!1,scroll:!e.noScroll}))};return(()=>{const o=qt.cloneNode(!0);return o.$$click=r,Re(o,t,!1,!0),ke(o,()=>e.children),N(()=>Le(o,"href",s()||e.href)),o})()}function tn(e){const t=je(()=>e.href);return O(Ut,st(e,{get to(){return t()}}))}Ee(["click"]);export{Yt as D,Wt as F,tn as L,Jt as R,Ae as S,T as a,Ue as b,I as c,v as d,Ke as e,O as f,Zt as g,en as h,he as i,ke as j,N as k,Xt as l,Qt as m,pt as n,Ht as o,gt as p,Ee as q,zt as r,Re as s,ft as t,jt as u,Le as v};
